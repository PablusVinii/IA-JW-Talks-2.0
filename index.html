<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Esbo√ßos - Testemunhas de Jeov√°</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Menu Button -->
    <button onclick="abrirMenu()" class="menu-btn" aria-label="Abrir menu">‚ò∞</button>

    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar">
        <a href="javascript:void(0)" class="closebtn" onclick="fecharMenu()" aria-label="Fechar menu">√ó</a>
        <div id="userInfo">üë§ Usu√°rio: carregando...</div>
        <hr>
        <nav>
            <h3><span role="img" aria-label="Rel√≥gio">üïì</span> Hist√≥rico de Esbo√ßos</h3>
            <ul id="historicoList">
                <!-- Hist√≥rico ser√° carregado aqui -->
            </ul>
        </nav>
        <hr>
        <button onclick="logout()" class="btn sair-btn">üö™ Sair</button>
    </aside>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
    <script src="firebase-init.js"></script>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>üìñ Gerador de Esbo√ßos</h1>
            <p>Testemunhas de Jeov√° - Prepara√ß√£o de discursos - Vers√£o 2.0</p>
        </header>

        <main class="main-content">
            <!-- Form Section -->
            <section class="form-section">
                <h2>Configurar Esbo√ßo</h2>
                
                <div class="form-group">
                    <label for="tipoDiscurso">Tipo de Discurso:</label>
                    <select id="tipoDiscurso" name="tipoDiscurso">
                        <option value="">Escolha uma op√ß√£o...</option>
                        <option value="publico">Discurso P√∫blico (Em breve...)</option>
                        <option value="pesquisa">Pesquisa B√≠blica Profunda</option>
                        <option value="tesouros">1. Tesouros da Palavra de Deus</option>
                        <option value="publico">4. Iniciando conversas (Em breve...)</option>
                        <option value="publico">5. Cultivando o interesse (Em breve...)</option>
                        <option value="publico">6. Explicando suas cren√ßas (Em breve...)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="tempo">Tempo estimado (minutos):</label>
                    <input type="number" id="tempo" name="tempo" placeholder="Digite o tempo em minutos..." min="1" max="10">
                </div>

                <div class="form-group">
                    <label for="tema">Tema Espec√≠fico:</label>
                    <input type="text" id="tema" name="tema" placeholder="Digite o tema do seu discurso...">
                </div>

                <div class="form-group">
                    <label for="versiculosOpicionais">Vers√≠culos B√≠blicos (opcional):</label>
                    <input type="text" id="versiculosOpicionais" name="versiculosOpicionais" placeholder="Ex: Jo√£o 3:16; Salmo 23:1; Mateus 6:33">
                </div>

                <div class="form-group">
                    <label for="topicosOpicionais">T√≥picos a serem abordados (opcional):</label>
                    <input type="text" id="topicosOpicionais" name="topicosOpicionais" placeholder="T√≥picos que voc√™ gostaria de incluir...">
                </div>

                <div class="form-group">
                    <label for="informacoesAdicionais">Informa√ß√µes Adicionais (opcional):</label>
                    <input type="text" id="informacoesAdicionais" name="informacoesAdicionais" placeholder="Ex: refer√™ncias extras, tom animador, exemplos pr√°ticos...">
                </div>

                <button class="btn" onclick="gerarEsboco()">
                    üîç Gerar Esbo√ßo
                </button>
            </div>

            <!-- Loading -->
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>Buscando informa√ß√µes na biblioteca JW.org...</p>
            </div>

            <!-- Result Section -->
            <div class="result-section" id="resultSection">
                <div class="result-header">
                    <h2 class="result-title" id="resultTitle">Esbo√ßo Gerado</h2>
                    <p class="result-type" id="resultType">Discurso Personalizado</p>
                </div>

                <div class="pontos-section">
                    <h3 class="section-title">üìù Pontos Principais</h3>
                    <ul class="pontos-list" id="pontosList"></ul>
                </div>

                <div class="referencias-section">
                    <h3 class="section-title">üìö Conte√∫do Completo</h3>
                    <div class="referencias-list" id="referenciasList"></div>
                </div>

                <div class="download-section">
                    <button class="btn" id="btnDownload" onclick="baixarComoWord()">
                        üì• Baixar como Word
                    </button>
                    <button class="btn" onclick="exportarResultado()" style="margin-left: 10px;">
                        üìã Copiar Texto
                    </button>
                </div>
            </div>

            <!-- Error Message -->
            <div class="error" id="errorMessage" role="alert"></div>
        </section> <!-- Fechando form-section -->
        </main> <!-- Fechando main-content -->
    </div> 

    <!-- Footer -->
    <footer class="footer">
        <p>Desenvolvido por <a href="https://github.com/PablusVinii/" target="_blank">Pablus Vinii</a> - Estudante de Engenharia de Software</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>